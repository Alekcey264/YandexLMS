Есть такие астрономические проекты (например, zooniverse.org), в которых любой пользователь компьютера может помочь ученым обнаружить заданные объекты на фотографиях. В рассматриваемом проекте нужно искать треки астероидов, которые могут угрожать Земле. В перспективе можно будет обучить нейронную сеть распознавать такие объекты на снимках телескопов, но для их обучения также нужны фотографии, размеченные людьми. Пока без их помощи не обойтись.

Вам нужно подготовить фотографии, на которых, возможно, есть такие треки. Для этого нужно для каждого изображения определить процент (percent) пикселей цвета, который отвечает двум критериям: он ярче среднего значения; он встречается чаще всего в изображении среди пикселей, отвечающих первому критерию. Так как ожидаемый процент невелик, умножьте его на 1000 и округлите до целых вниз.

Также нужно определить относительное количество (amount) различных пикселей, яркость которых выше средней. (Количество таких пикселей умножить на 100, разделить на общее число пикселей и округлить до целого вниз.)

И, наконец, для каждого файла нужно определить четверть (как на декартовой плоскости) (quarter), где больше всего пикселей с яркостью выше средней, – I, II, III или IV. Если в нескольких значения одинаковы, то брать меньшую по номеру.

Яркостью пикселя считается сумма интенсивностей всех трех компонент цвета.

Для имитации увеличения времени при работе с большими файлами, сделайте временную задержку 0.1 с при определении средней яркости фотографии.

Напишите асинхронную функцию asteroids(), которая принимает произвольное число имен файлов, а возвращает список кортежей (имя файла, процент, количество, четверть).
При начале обработки фотографии функция должна печатать строку Start <имя файла>, при получении каждого результата
Done <имя файла>, percent <значение>
Done <имя файла>, amount <значение>
Done <имя файла>, quarter <значение>
По окончании работы с файлом вывести строку: Ready <имя файла>

Пример фотографии для обработки: