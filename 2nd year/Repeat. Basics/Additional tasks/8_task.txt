Сапёр — известная игра-головоломка для одного игрока на прямоугольном поле. В некоторых точках поля расположены мины. Цель игрока — открыть все клетки, на которых мин нет, причём нажатие на мину означает мгновенный проигрыш.

Ваша задача — написать игру «Сапёр» с псевдографическим интерфейсом. Например, поле может выглядеть так:
[ ][ ][ ][ ][ ]  
[?][ ][F] 2 [F]  
[ ] 1  1  2  1  
[ ] 1  
[?] 3  3  2  1  
[?][F][F][F] 1
Ход делается указанием строки и столбца и, возможно, типа действия (если есть дополнительные варианты, кроме открытия клетки). Должна быть принципиальная возможность выиграть и проиграть.

Дополнительно желательно учесть ещё несколько моментов:

При нажатии на клетку, среди соседей которой нет мин, открываются также все соседние с ней клетки.
Если и среди соседей есть «нулевые» клетки, процесс продолжается рекурсивно.
Игрокам может быть разрешено оставлять отметки, обычно это флажок, указывающий на предполагаемое положение мины, и вопросительный знак. Оба этих значка не позволяют открыть клетку, не сняв предварительно отметку.
Крайне желательно, чтобы игрок не мог подорваться на мине первым же ходом. Для этого можно переставлять неудачную мину или, что лучше, генерацию поля проводить после первого хода игрока, а не заранее.
Задача проверяется преподавателем.